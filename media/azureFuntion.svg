<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="841px" preserveAspectRatio="none" style="width:453px;height:841px;" version="1.1" viewBox="0 0 453 841" width="453px" zoomAndPan="magnify"><defs><filter height="300%" id="f5fsq98v3xhnx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="182.5" cy="20" fill="#000000" filter="url(#f5fsq98v3xhnx)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="95.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="105.5" y="72.457">POST /api/make-reservation</text><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="88.5" y="105.0938"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="98.5" y="127.5508">Validate Inbound XML Request</text><polygon fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" points="108,160.1875,257,160.1875,269,172.1875,257,184.1875,108,184.1875,96,172.1875,108,160.1875" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="108" y="176.6885">Inbound XML Request is invalid</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="77" y="169.7705">true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="269" y="169.7705">false</text><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="50.1875" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="10" y="194.1875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="20" y="216.6445">Respond</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="74" y="216.6445">406</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="22" x="98" y="216.6445">with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="20" y="231.7383">each invalid errors</text><ellipse cx="70.5" cy="275.375" fill="#FFFFFF" filter="url(#f5fsq98v3xhnx)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="70.5" cy="275.375" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="50.1875" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="228.5" y="194.1875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="238.5" y="216.6445">unmarshall XML into</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="104" x="238.5" y="231.7383">Reservation Object</text><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="50.1875" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="233" y="264.375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="243" y="286.832">create OAuth token</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="243" y="301.9258">to Sharepoint site</text><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="50.1875" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="222" y="334.5625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="232" y="357.0195">instantiate a Graph API</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="29" x="232" y="372.1133">client</text><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="50.1875" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="227" y="404.75"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="237" y="427.207">convert Reservations</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="237" y="442.3008">into JSON object</text><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="233" y="474.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="243" y="497.3945">create a new UUID</text><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="65.2813" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="209" y="530.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="147" x="219" y="552.4883">merge Reservations JSON</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="219" y="567.582">into Graph List JSON</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="151" x="219" y="582.6758">exclude null &amp; empty values</text><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="50.1875" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="237" y="615.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="247" y="637.7695">POST Graph List</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="247" y="652.8633">to sharepoint site</text><polygon fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" points="230.5,685.5,358.5,685.5,370.5,699.3359,358.5,713.1719,230.5,713.1719,218.5,699.3359,230.5,685.5" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="230.5" y="696.9189">Response from sharepoint</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="254.5" y="710.7549">is bad or null</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="199.5" y="696.9189">true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="370.5" y="696.9189">false</text><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="161" y="723.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="171" y="745.6289">Respond</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="225" y="745.6289">400</text><ellipse cx="208.5" cy="804.2656" fill="#FFFFFF" filter="url(#f5fsq98v3xhnx)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="208.5" cy="804.2656" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f5fsq98v3xhnx)" height="50.1875" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="319" y="723.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="329" y="745.6289">Respond</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="383" y="745.6289">200</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="22" x="407" y="745.6289">with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="329" y="760.7227">UUID as response</text><ellipse cx="380.5" cy="819.3594" fill="#FFFFFF" filter="url(#f5fsq98v3xhnx)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="380.5" cy="819.3594" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="182.5" x2="182.5" y1="30" y2="50"/><polygon fill="#A80036" points="178.5,40,182.5,50,186.5,40,182.5,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="182.5" x2="182.5" y1="85.0938" y2="105.0938"/><polygon fill="#A80036" points="178.5,95.0938,182.5,105.0938,186.5,95.0938,182.5,99.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="70.5" x2="70.5" y1="244.375" y2="264.375"/><polygon fill="#A80036" points="66.5,254.375,70.5,264.375,74.5,254.375,70.5,258.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="294.5" y1="244.375" y2="264.375"/><polygon fill="#A80036" points="290.5,254.375,294.5,264.375,298.5,254.375,294.5,258.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="294.5" y1="314.5625" y2="334.5625"/><polygon fill="#A80036" points="290.5,324.5625,294.5,334.5625,298.5,324.5625,294.5,328.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="294.5" y1="384.75" y2="404.75"/><polygon fill="#A80036" points="290.5,394.75,294.5,404.75,298.5,394.75,294.5,398.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="294.5" y1="454.9375" y2="474.9375"/><polygon fill="#A80036" points="290.5,464.9375,294.5,474.9375,298.5,464.9375,294.5,468.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="294.5" y1="510.0313" y2="530.0313"/><polygon fill="#A80036" points="290.5,520.0313,294.5,530.0313,298.5,520.0313,294.5,524.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="294.5" y1="595.3125" y2="615.3125"/><polygon fill="#A80036" points="290.5,605.3125,294.5,615.3125,298.5,605.3125,294.5,609.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="208.5" x2="208.5" y1="758.2656" y2="793.2656"/><polygon fill="#A80036" points="204.5,783.2656,208.5,793.2656,212.5,783.2656,208.5,787.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="380.5" x2="380.5" y1="773.3594" y2="808.3594"/><polygon fill="#A80036" points="376.5,798.3594,380.5,808.3594,384.5,798.3594,380.5,802.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218.5" x2="208.5" y1="699.3359" y2="699.3359"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="208.5" x2="208.5" y1="699.3359" y2="723.1719"/><polygon fill="#A80036" points="204.5,713.1719,208.5,723.1719,212.5,713.1719,208.5,717.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="370.5" x2="380.5" y1="699.3359" y2="699.3359"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="380.5" x2="380.5" y1="699.3359" y2="723.1719"/><polygon fill="#A80036" points="376.5,713.1719,380.5,723.1719,384.5,713.1719,380.5,717.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="294.5" y1="665.5" y2="685.5"/><polygon fill="#A80036" points="290.5,675.5,294.5,685.5,298.5,675.5,294.5,679.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="96" x2="70.5" y1="172.1875" y2="172.1875"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="70.5" x2="70.5" y1="172.1875" y2="194.1875"/><polygon fill="#A80036" points="66.5,184.1875,70.5,194.1875,74.5,184.1875,70.5,188.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="269" x2="294.5" y1="172.1875" y2="172.1875"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="294.5" y1="172.1875" y2="194.1875"/><polygon fill="#A80036" points="290.5,184.1875,294.5,194.1875,298.5,184.1875,294.5,188.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="182.5" x2="182.5" y1="140.1875" y2="160.1875"/><polygon fill="#A80036" points="178.5,150.1875,182.5,160.1875,186.5,150.1875,182.5,154.1875" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
start
:POST /api/make-reservation;
:Validate Inbound XML Request;
if(Inbound XML Request is invalid) then (true)
    :Respond **406** with
    each invalid errors;
    stop
else (false)
    :unmarshall XML into
    Reservation Object;

    :create OAuth token
    to Sharepoint site;

    :instantiate a Graph API
    client;

    :convert Reservations
    into JSON object;

    :create a new UUID;

    :merge Reservations JSON
    into Graph List JSON
    exclude null & empty values;

    :POST Graph List
    to sharepoint site;

    if(Response from sharepoint
        is bad or null) then (true)
        :Respond **400**;
        stop
    else (false)
        :Respond **200** with
        UUID as response;
        stop
    endif
endif
@enduml

PlantUML version 1.2019.09(Mon Aug 26 12:19:51 EDT 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_242-b20
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>